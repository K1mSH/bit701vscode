<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.3.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Jua&family=Lobster&family=Nanum+Pen+Script&family=Single+Day&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
​
    <style>
       body, body *{
            font-family: 'Single Day';
        }
        .foodphoto{
            width:80px;
            height: 80px;
            border-radius: 100px;
            border: 3px solid black;
            cursor: pointer;
        }

    </style>


</head>
<body>
    <h4>메뉴판</h4>
    <table class="table table-striped" style="width:500px">
        <thead>
            <th>번호</th>
            <th width="120">음식명</th>
            <th width="100">가격</th>
            <th>사진</th>
        </thead>
        <tbody>
            <script>
                let food_data={
                    "foodlist":[
                        {"foodname":"에그샌드위치","foodprice":"11000","foodsrc":"../image/food/1.jpg"},
                        {"foodname":"닭꼬치구이","foodprice":"7800","foodsrc":"../image/food/2.jpg"},
                        {"foodname":"육개장","foodprice":"12000","foodsrc":"../image/food/3.jpg"},
                        {"foodname":"망고빙수","foodprice":"15000","foodsrc":"../image/food/11.jpg"},
                        {"foodname":"오므라이스","foodprice":"8900","foodsrc":"../image/food/6.jpg"},
                        {"foodname":"비프카레","foodprice":"19000","foodsrc":"../image/food/4.jpg"}
                    ]
                };

             
                // $.each(food_data,function(idx,item){
                    
                //    for(let i=0;i<=5;i++){
                    
                //     $.each(item[i],function(idx2,item2){
                //         console.log(item2);
                //         let r=`
                //             <tr>
                //                 <td>${idx2+1}</td>
                //                 <td>${item2.foodname}</td>
                //                 <td>${item2.foodprice}</td>
                //                 <td><img src="${item2.foodsrc}"></td>
                //             </tr>
                //         `;
                //         document.write(r);  
                //         });
                        
                //     } 

                // });

                $.each(food_data.foodlist,function(idx,item){
        
                         let r=`
                             <tr>
                                 <td>${idx+1}</td>
                                 <td>${item.foodname}</td>
                                 <td>${item.foodprice}</td>
                                 <td><img src="${item.foodsrc}" class="foodphoto" 
                                    data-bs-toggle="modal" data-bs-target="#myModal"></td>
                             </tr>
                         `;
                         document.write(r);  
                         });
            </script>
        </tbody>
    </table>

    <div class="container mt-3">
        
        
        <!--
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">
         -->
        </button>
      </div>
      
      <!-- The Modal -->
      <div class="modal" id="myModal">
        <div class="modal-dialog">
          <div class="modal-content">
      
            <!-- Modal Header -->
            <div class="modal-header">
              <h4 class="modal-title"></h4>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
      
            <!-- Modal body -->
            <div class="modal-body">
                <img src="" class="modalPhoto" style="width:90%"><br>
                <b></b>
            </div>
      
            <!-- Modal footer -->
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
            </div>
      
          </div>
        </div>
      </div>

      <script>
        $(".foodphoto").click(function(){
            $(".modal-body img").attr("src",$(this).attr("src"));
            $(".modal-body b").text($(this).parent().prev().text());
            $(".modal-title").text($(this).parent().prev().prev().text());
        });
      </script>
</body>
</html>